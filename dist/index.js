"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),n=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(n);const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],c=(e,n)=>{const t=e.getFullYear().toString(),r=(e.getMonth()+1).toString().padStart(2,"0"),c=e.getDate().toString().padStart(2,"0"),o=e.getHours().toString().padStart(2,"0"),l=e.getMinutes().toString().padStart(2,"0"),d=e.getSeconds().toString().padStart(2,"0"),_=i[e.getMonth()].slice(0,3),b=i[e.getMonth()],u=s[e.getDay()],p=a[e.getDay()];let g=n.replace("yyyy",t);return g=g.replace("yy",t.slice(-2)),g=g.replace("MMMM",b),g=g.replace("MMM",_),g=g.replace("MM",r),g=g.replace("dddd",p),g=g.replace("ddd",u),g=g.replace("dd",c),g=g.replace("HH",o),g=g.replace("hh",(Number(o)%12||12).toString().padStart(2,"0")),g=g.replace("mm",l),g=g.replace("ss",d),g=g.replace("H",o),g},o=(e,n)=>{const t=n.split(/[^a-zA-Z]/),r=e.split(/[^0-9]/);let s,a,i,c=0,o=0,l=0;for(let e=0;e<t.length;e++){const n=t[e],d=r[e];n.includes("yyyy")?s=parseInt(d,10):n.includes("MM")?a=parseInt(d,10)-1:n.includes("dd")?i=parseInt(d,10):n.includes("HH")?c=parseInt(d,10):n.includes("mm")?o=parseInt(d,10):n.includes("ss")&&(l=parseInt(d,10))}if(void 0===s||void 0===a||void 0===i)throw new Error("Invalid date format or input");return new Date(s,a,i,c,o,l)},l=(e,n,t)=>{0!==e.length&&e.forEach((e=>{t[e.sc_app__id]||(t[e.sc_app__id]=!0,e.width=e.width*n,e.left=e.left*n,l(e.leftOvercome,n,t))}))},d=(e,n)=>{const t=100,r=e.sort(((e,n)=>e.startTime-n.startTime)),s=n?"startDate":"startTime",a=n?"endDate":"endTime";for(let e=0;e<r.length;e++){let n=0,i=0;const c=[];for(let n=0;n<e;n++)r[n][a]-r[e][s]>1e3&&c.push(r[n]);if(c.length){if(c.sort(((e,n)=>e.left-n.left)),c[0].left>0)n=c[0].left;else for(let e=0;e<c.length-1;e++)if(c[e+1].left-(c[e].width+c[e].left)>1){n=c[e].left+c[e].width-c[e].left,i=c[e].left+c[e].width;break}0===n&&t-c[c.length-1].left-c[c.length-1].width>1&&(n=t-c[c.length-1].left-c[c.length-1].width,i=c[c.length-1].left+c[c.length-1].width)}r[e].leftOvercome=c,0===n&&(n=0===c.length?t:t/(1+t/c[0].width),i=t-n,l(c,1-n/t,{})),r[e].width=n,r[e].left=i}return r},_=(e,n)=>{const t=[];for(let r=0;r<e.length;r++){const s=e[r],a=new Date(o(s.startDate,n)).setHours(0,0,0,0),i=new Date(o(s.endDate,n)).setHours(0,0,0,0),c=s.startTime?s.startTime.split(":"):["0","0","0","0"],l=s.startTime?s.endTime.split(":"):["0","0","0","0"],d=new Date(a).setHours(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),0),_=new Date(i).setHours(parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10),0),b=(_-d)/36e5,u=Object.assign(Object.assign({},s),{sc_app__id:s.sc_app__id,title:s.title,startDate:a,endDate:i,startTime:d,endTime:_,total_event_time:b});t.push(u)}return t},b=(e,n,t)=>{const r=e.getTime(),s=new Date(n).setHours(0,0,0,0),a=new Date(t).setHours(23,59,59,999);return r>=s&&r<=a},u=e=>{if(!e)return[];for(let n=0;n<e.length;n++)e[n].sc_app__id=n+1;return e};function p(e,n){const t=e.getTime()-n.getTime();return Math.ceil(t/864e5)}function g(e,n){let[t,r]=n.split(":");const s=Number(t);return r=r.replace(/[^0-9]/g,""),n.includes("PM")&&s<12&&(t+=12),e.setHours(s),e.setMinutes(Number(r)),e}const m=(e,n)=>{if(12==n){const n=e>=12?"PM":"AM";return("0"+(e=(e%=12)||12)).slice(-2)+":00 "+n}return("0"+e).slice(-2)+":00"},h=e=>Object.assign(Object.assign({},e),{startDate:e.startTime?c(new Date(e.startTime),"dd/MM/yyyy"):"",endDate:e.endTime?c(new Date(e.endTime),"dd/MM/yyyy"):"",startTime:e.startTime?c(new Date(e.startTime),"H:mm:ss"):"",endTime:e.endTime?c(new Date(e.endTime),"H:mm:ss"):""});function f(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===t&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}function x({onChange:t,value:r}){const[s,a]=n.useState(""),[i,c]=n.useState(m(new Date)),[o,l]=n.useState([]),[d,_]=n.useState(!1),[b,u]=n.useState(null),p=n.useRef(null),g=n.useRef(null);function m(e){let n=e.getHours();const t=e.getMinutes(),r=n>=12?"PM":"AM";n%=12,n=n||12;const s=String(t).padStart(2,"0");return`${String(n).padStart(2,"0")}:${s} ${r}`}function h(e){console.log("handleInputBlur"),console.log("inputValue",s),console.log("value",e);const n=(e||s).toUpperCase(),r=n.replace(/[^\d]/g,"");let i=parseInt(r.substring(0,2),10)||0;const o=parseInt(r.substring(2,4),10)||0;console.log("inputStr========",r,i);let l="AM";n.includes("P")?l="PM":n.includes("A")?l="AM":i>=12&&(l="PM"),i>12&&(i-=12),i>24&&(i=parseInt(r.charAt(0),10)||0),o>59&&(i=parseInt(r.charAt(0),10)||0);const d=`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")} ${l}`;c(d),a(d),t((e=>{console.log("------timeStr----",e);const n=e.toLowerCase().includes("pm"),t=e.split(/[:\s]/);let r=parseInt(t[0],10);const s=parseInt(t[1],10);if(isNaN(r)||isNaN(s)||r>12||r<1||s>59||s<0)return console.error("Invalid time format"),"12:00";n&&12!==r&&(r+=12),n||12!==r||(r=0);const a=`${String(r).padStart(2,"0")}:${String(s).padStart(2,"0")}`;return console.log(a),a})(d))}return n.useEffect((()=>{r&&a((e=>{if(!e)return"";if(console.log("------timeStr----12--",e),(e=(e=e.trim()).toUpperCase()).includes("AM")||e.includes("PM"))return e;const[n,t]=e.split(":");let r=parseInt(n,10),s="AM";return r>=12&&(s="PM"),r>24&&(r%=10),0==r?r=12:r>12&&(r-=12),console.log("------hoursInt----12--",r),`${r.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")} ${s}`})(r))}),[r]),n.useEffect((()=>{var e;function n(e){if(console.log("handleKeyDown"),"ArrowDown"===e.key)e.preventDefault(),u((e=>null===e||e===o.length-1?0:e+1));else if("ArrowUp"===e.key)e.preventDefault(),u((e=>null===e||0===e?o.length-1:e-1));else if("Enter"===e.key&&null!==b){e.preventDefault();const n=o[b];a(n),c(n),setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.blur(),_(!1)}),100)}else"Escape"===e.key||"Enter"===e.key?(setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.blur(),_(!1)}),100),e.preventDefault()):u(null)}return null===(e=p.current)||void 0===e||e.addEventListener("keydown",n),()=>{p.current&&p.current.removeEventListener("keydown",n)}}),[o,b]),n.useEffect((()=>{d&&g.current&&null!==b&&(g.current.scrollTop=30*b)}),[d,b]),n.useEffect((()=>{const e=[];for(let n=0;n<=23;n++)for(let t=0;t<=59;t+=30){const r=new Date(0,0,0,n,t);e.push(m(r))}l(e)}),[]),n.useEffect((()=>{if(d&&g.current){const e=o.findIndex((e=>e===i));-1!==e&&(g.current.scrollTop=30*e)}}),[d,o,i]),e.jsxs("div",Object.assign({className:"time-input-wrapper"},{children:[e.jsx("input",{type:"text",value:s,placeholder:i,className:"ib__sc-form-control",onChange:function(e){e.preventDefault(),a(e.target.value)},onFocus:()=>_(!0),onBlur:()=>{h(),setTimeout((()=>_(!1)),500)},ref:p}),d&&e.jsx("div",Object.assign({className:"dropdown-time",ref:g},{children:o.map(((n,t)=>e.jsx("div",Object.assign({className:t===b?"active":"",onClick:()=>{h(n),setTimeout((()=>_(!1)),500)}},{children:n}),t)))}))]}))}f(".time-input-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.dropdown-time {\r\n    position: absolute;\r\n    width: 100%;\r\n    border: 1px solid #ccc;\r\n    max-height: 120px;\r\n    overflow-y: scroll;\r\n    z-index: 1000;\r\n    background-color: #fff;\r\n}\r\n\r\n.dropdown-time div {\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    font-size: 15px;\r\n    height: 20px;\r\n\r\n}\r\n.dropdown-time  .active {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n}\r\n\r\n.dropdown-time div:hover {\r\n    background-color: #ddd;\r\n}\r\n");const v=t=>{var{show:r,handleClose:s,handleAddEvent:a,handleDeleteEvent:i}=t,o=t.eventObj,{title:l="",startDate:d="",endDate:_="",startTime:b="",endTime:u="",bg_color:p="#5c6bc0",description:m="",sc_app__id:h=""}=o,f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]])}return t}(o,["title","startDate","endDate","startTime","endTime","bg_color","description","sc_app__id"]);const v=new Date,w=c(v,"yyyy-MM-dd"),[j,y]=n.useState(l),[A,D]=n.useState(d||w),[O,T]=n.useState(_||w),[k,C]=n.useState(b),[N,E]=n.useState(u),[S,M]=n.useState(p),[H,I]=n.useState(m),F=()=>{if(!(A&&O&&k&&N))return alert("Please fill all the fields"),!1;let e=new Date(A),n=new Date(O);return isNaN(e.getTime())||isNaN(n.getTime())?(alert("Invalid date"),!1):(e=g(e,k),n=g(n,N),!(e.getTime()>n.getTime())||(alert("Start date cannot be greater than end date"),!1))};return e.jsx("div",Object.assign({className:"modal-wrapper ib__sc-modal",onKeyDown:e=>{e.target instanceof HTMLElement&&e.target.className.includes("ib__sc-modal")&&s()},style:{transform:r?"translateY(0vh)":"translateY(-100vh)",opacity:r?"1":"0"}},{children:e.jsxs("div",Object.assign({className:"ib__sc-modal-content ib__sc_add_event_box"},{children:[e.jsxs("div",Object.assign({className:"modal-header"},{children:[h?e.jsx("p",{children:"Edit Event"}):e.jsx("p",{children:"Add Event"}),e.jsx("span",Object.assign({className:"ib__sc__close-modal-btn",onClick:s},{children:"Ã—"}))]})),e.jsx("div",Object.assign({className:"ib__sc-modal-body"},{children:e.jsxs("form",Object.assign({noValidate:!0},{children:[e.jsxs("div",Object.assign({className:"ib__sc__form-group"},{children:[e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"title"},{children:"Title"})),e.jsx("input",{type:"text",placeholder:"Title",value:j,className:"ib__sc-form-control",onChange:e=>y(e.target.value),required:!0})]})),e.jsxs("div",Object.assign({className:"ib__sc__form-time-row"},{children:[e.jsxs("div",Object.assign({className:"ib__sc__form-group"},{children:[e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"startDate"},{children:"Start Date"})),e.jsx("input",{type:"date",placeholder:"yyyy-mm-dd",className:"ib__sc-form-control",value:A,onChange:e=>D(e.target.value),required:!0}),e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"startTime"},{children:"Start Time"})),e.jsx(x,{value:k,onChange:e=>C(e)})]})),e.jsxs("div",Object.assign({className:"ib__sc__form-group"},{children:[e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"endDate"},{children:"End Date"})),e.jsx("input",{type:"date",placeholder:"yyyy-mm-dd",className:"ib__sc-form-control",value:O,onChange:e=>T(e.target.value),required:!0}),e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"endTime"},{children:"End Time"})),e.jsx(x,{value:N,onChange:e=>E(e)})]}))]})),e.jsxs("div",Object.assign({className:"ib__sc__form-group"},{children:[e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"bg_color"},{children:"Description"})),e.jsx("input",{type:"color",value:S,className:"ib__sc-form-control",onChange:e=>M(e.target.value),required:!0})]})),e.jsxs("div",Object.assign({className:"ib__sc__form-group"},{children:[e.jsx("label",Object.assign({className:"ib__sc-label",htmlFor:"bg_color"},{children:"Decription"})),e.jsx("textarea",{value:H,className:"ib__sc-form-control",onChange:e=>I(e.target.value),required:!0})]})),e.jsxs("div",Object.assign({className:"ib__sc__modal_footer"},{children:[e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:e=>{if(e.preventDefault(),!F())return;const n=g(new Date(A),k),t=g(new Date(O),N),r=Object.assign(Object.assign({},f),{title:j,sc_app__id:h,description:H,startDate:c(new Date(n),"dd/MM/yyyy"),endDate:c(new Date(t),"dd/MM/yyyy"),startTime:c(new Date(n),"H:mm:ss"),endTime:c(new Date(t),"H:mm:ss"),bg_color:S});a(r),s()}},{children:h?e.jsx(e.Fragment,{children:"Update "}):e.jsx(e.Fragment,{children:"Save"})})),h&&e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:e=>{e.preventDefault()},onDoubleClick:e=>{e.preventDefault(),i&&i(h),s()}},{children:"Delete"}))]}))]}))}))]}))}))};function w({calenderType:n,handleClanderTypeChange:t}){return e.jsx(r.default.Fragment,{children:e.jsxs("div",Object.assign({className:"ib__sc__btn-group ib__sc__calander_switch"},{children:[e.jsx("button",Object.assign({className:"ib__sc__btn ib_sc_btn_month "+("month"===n?"active":""),onClick:()=>t("month")},{children:"Month"})),e.jsx("button",Object.assign({className:"ib__sc__btn ib_sc_btn_week "+("week"===n?"active":""),onClick:()=>t("week")},{children:"Week"})),e.jsx("button",Object.assign({className:"ib__sc__btn ib_sc_btn_day "+("day"===n?"active":""),onClick:()=>t("day")},{children:"Day"}))]}))})}const j=36e5,y=n.createContext(),A=({eventObj:n,isShowTitle:t,isStart:r})=>{var s;return e.jsxs("div",Object.assign({className:`ib__sc__event-box-view ${r?"ib__sc__staring_event_box":""} ${null!==(s=n.custom_class)&&void 0!==s?s:""}`,style:{height:"100%"}},{children:[t&&e.jsx("div",Object.assign({className:"ib__sc__event ib__sc__event-week_title"},{children:n.title})),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",Object.assign({className:"ib__sc__event-element"},{children:n.element&&n.element})),e.jsx("div",Object.assign({className:"ib__sc__event-description"},{children:n.description&&n.description}))]})]}))},D=({boxHeight:t,boxTime:r=1,eventObj:s,boxDay:a,dragingEventId:i})=>{const[c,o]=n.useState(!1),[l,d]=n.useState(!1),[_,b]=n.useState(0),[u,p]=n.useState(0),[g,m]=n.useState({top:!1,bottom:!1}),h=n.useRef({start:0,end:0}),{updateEvent:f,dragStart:x,dragEnd:v,calenderToAddOrUpdateEvent:w}=n.useContext(y),D=n.useRef(null),O=n.useRef(0),T=n.useRef(""),k=n.useRef(!1);n.useEffect((()=>{setTimeout((()=>{i===s.sc_app__id?o(!0):o(!1)}),100)}),[i]);const C=(e,n)=>{e.stopPropagation(),e.preventDefault(),h.current.start=s.startTime,h.current.end=s.endTime,O.current=0,T.current=n,d(!0)},N=e=>{e.preventDefault(),c&&(setTimeout((()=>{o(!1)}),100),v())},E=(e,n)=>{const s=new Date(a).setHours(0,0,0,0),i=new Date(a).setHours(23,59,59,999);h.current.start=e,h.current.end=n,e<s?(e=s,m(Object.assign(Object.assign({},g),{top:!0}))):m(Object.assign(Object.assign({},g),{top:!1})),n>i?(n=i,m(Object.assign(Object.assign({},g),{bottom:!0}))):m(Object.assign(Object.assign({},g),{bottom:!1}));p(t/r*((n-e)/j));b((e-s)/j*(t/r))},S=e=>{if(!l)return;if(0==O.current)return void(O.current=e.clientY);const n=e.clientY-O.current;(n>10||n<-10)&&(((e,n)=>{"top"===n&&(s.startTime=s.startTime+e/t*r*j,E(s.startTime,s.endTime)),"bottom"===n&&(s.endTime=s.endTime+e/t*r*j,E(s.startTime,s.endTime))})(n,T.current),O.current=e.clientY)},M=e=>{l&&(e.preventDefault(),e.stopPropagation(),setTimeout((()=>{d(!1)}),100),O.current=0,f(Object.assign(Object.assign({},s),{startTime:h.current.start,endTime:h.current.end})))};n.useEffect((()=>{if(l)return document.addEventListener("mousemove",S),document.addEventListener("mouseup",M),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",M)}}),[l]),n.useEffect((()=>{if(c)return document.addEventListener("mouseup",N),()=>{document.removeEventListener("mouseup",N)}}),[c]),n.useEffect((()=>{s&&E(s.startTime,s.endTime)}),[s,t,r,a]);const H={width:(c?100:s.width)+"%",left:(c?0:s.left)+"%",top:_+"px",cursor:"move",opacity:c?.8:1,boxShadow:c?"0 0 10px 0 rgba(0,0,0,0.5)":"none",zIndex:c||l?1e4:1,height:u+"px"};return e.jsx(e.Fragment,{children:s&&e.jsx("div",Object.assign({id:s.sc_app__id,className:"ib__sc__event-wrapper ib__sc__event-wrapper-week "+(c?"dragging":""),ref:D,onMouseDown:e=>{e.preventDefault(),k.current=!0},onMouseUp:e=>{e.preventDefault(),k.current=!1},onMouseMove:()=>{k.current&&!c&&(console.log("handleDragStart"),o(!0),x(s,a))},onClick:e=>{l||c||(e.stopPropagation(),e.preventDefault(),v(),w(s))},style:H},{children:e.jsxs("div",Object.assign({className:"ib__sc__event-box ib__sc__event-box-week",style:{height:u+"px",backgroundColor:s.bg_color}},{children:[g&&!g.top&&e.jsx("div",Object.assign({style:l?{display:"block"}:{},className:"dragging-handler-week top",onMouseDown:e=>{C(e,"top")}},{children:"="})),e.jsx(A,{eventObj:s,isShowTitle:!0}),g&&!g.bottom&&e.jsx("div",Object.assign({style:l?{display:"block"}:{},className:"dragging-handler-week bottom",onMouseDown:e=>{C(e,"bottom")}},{children:"="}))]}))}))})},O=({events:t,boxHeight:r,boxDay:s,dragBoxMouseEnterToCell:a,calenderToAddOrUpdateEvent:i,dragingEventId:c})=>{const o=n.useRef(null),l=e=>{e.preventDefault(),a(s)};return n.useEffect((()=>{if(o.current&&c)return o.current.addEventListener("mouseenter",l,!0),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("mouseenter",l,!0)}}),[c]),t.length&&console.log("events------Day column",t),e.jsx(e.Fragment,{children:e.jsx("div",Object.assign({ref:o,className:"ib__sc__cell ib__sc__cell-week"},{children:e.jsxs("div",Object.assign({className:"ib__sc__cell-wrapper ib__sc__cell-wrapper-week"},{children:[!!t&&!!t.length&&t.map((n=>e.jsx(D,{eventObj:n,boxDay:s,boxHeight:r,dragingEventId:c},n.sc_app__id))),(d=s,_=new Date,d.getFullYear()===_.getFullYear()&&d.getMonth()===_.getMonth()&&d.getDate()===_.getDate()&&e.jsx(T,{boxHeight:r})),[...Array(24).keys()].map(((n,t)=>e.jsx("div",{onClick:e=>((e,n)=>{e.preventDefault(),e.stopPropagation(),i({startTime:new Date(s).setHours(n,0,0,0),endTime:new Date(s).setHours(n+1,0,0,0)})})(e,n),style:{height:r+"px"},draggable:!0,className:"ib__sc__table-hr-box-week"},t)))]}))}))});var d,_},T=({boxHeight:t})=>{const[r,s]=n.useState(0),a=()=>{const e=new Date,n=e.getHours(),r=e.getMinutes();s((n+r/60)*t)};return n.useEffect((()=>{a();const e=setInterval((()=>{a()}),1e4);return()=>clearInterval(e)}),[t]),e.jsx("div",{style:{top:r+"px"},className:"ib__sc__daybar-week"})};const k=()=>e.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cGBxcLBsb8hYgAAALNSURBVHja3dm/SxthGMDx52ISe4kOWonQoWSoDiVDZ+WOEAeRVFDiEZpLloyFbh0c+j90EQpCC4GmDnGopPGSgovhupaAZmiPUAKWFkqDKGgsvetUaZsj2PvxPs/rM+a4l/t+eHNwvAAuJp+RJFU/OFAfHB+rjzY3FUUU3ayHMYLTGxVFFMOJbhc+TE1d/vhpb+/i1vJypXJ2hh121Qk4vfFGJh7/Kx4AIL6wEP5crfK0ExwDfHvS6VjPjo4GLnCG4BhAM/p9IZHNwv3TU54RHAMAAJS7ui6Ii4vWi5MTW4R79bqyNjaGHTlsHL8E/5z867k5c6leF4rj4wMX7+7vX7xPpyvbNjuFwHgCwDOCZwC8IngKwCOC5wC8IfgCwBOCbwC8IPgKwAOC7wDUEZgAUEZgBkAVgSkARQTmANQQUAAAANTb8/PWR03DRkADoIKACkABAR0AG4EEACYCGQAsBFIAGAjkAFgjkARgiUAWgBUCaQAWCK4ORlhMuavrgVw6bXsC1Zbl8MNSyc365HfA78lnJMla292FN4MnTUJsZublU8Nwsi75HXAZ2QyFrGTA9nnNr6bpdN0gdthVphBLpX62qlXhcSTy7zWrtLX1KtjpXFuAXFuWzdbOjl08rDcaoZFi0c36pN8BubYsC61aze5/D+uNRjCxslISzs+vJQCLeLIArOJJArCMJwfAOp4UAEY8GQCseBIAmPHoANjxqAAU4gEARjDi8xlJgpv2X3Ys4wEwDkeHfNayjmcOQC2eKQDFeGYAVOOZAFCO9x2AeryvADzE+wbAS7wvADzFew7AW7ynADzGewbAa7wnADzHuwZQrWTS+lKr2R5aTGrad211VTP6fezIYeP4c7gQi0ataLMpPJ+Y4DUewMXh6I+3s7Pwbnqa53hXAJGyYcBkr8dzvOspxFIpNXt4qEZ7PXV7Y2Ppzugo9jP97/wCAaynFXwXh7EAAAAASUVORK5CYII=",alt:"righticon"}),C=()=>e.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAEAQAAABQ8GUWAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAAYAAAAGAA8GtCzwAAAAd0SU1FB+cGBxcLHDuefPIAAALqSURBVHja3ds9aBNhGMDx54y9GAzYVgxqh9pchiwqCNIgZOjHEtorgrnBmlKhk5M4uDs4qaO2m0OLVLzQQitplbSELh10snBDz0JKqJYEGkJpa9JrzqlF06bB+3if5/Udc9xz/H9cAse9AeBsxUJebyI8Ovrgfqk0mNe0oUB3t515AnbQv8a3xqanYSsWO/qwtVj0nmtvf/tye9vKzDPYUbbiAQC2Wlp+3ZYkq3O5AKgbDwDm881Nf3p11eps8l+BU+Nf7e4Kl/v63gmZjNX5pO8AJS6KF3+qat34rwMDduIBCN8BSlwUvXPJpHlXluvGywsLdq9DEoBVPEkAlvHkAFjHkwLAiCcDgBVPAgAzHh0AOx4VgEI8GgCVeBQASvHMAajFMwWgGM8MgGo8EwDK8a4DUI93FYCHeNcAeIl3BYCneMcBeIt3FIDHeMcAeI13BIDneNsAvMcDAJy1c7J4ZXy8XrznpixP5BcXsQMbLct3QOJJKGTmdZ3neAAbr8YOngkn4gmZatWM7u9jh7kOMHlB12FkaurYgY9+vxlPpRL3olHsOFcBAAAqY4kEDKXTJyFUX8/PD77p6sIObLQ8dk7WNMMIl5NJz8POTvgWDP55TPjc1ASPFeV6cHl5JZXNYoe6AvA/INgG4B3BEQCeERwD4BXBUQAeERwH4A3BFQCeEFwD4AXBVQAeENi9GlN8PnFkZgYmentrjzmx4ZE8QCMEKOzswKf+ftYI7F+PE0PA2SBBCAFviwwRBNxNUgQQ8LfJISOgA2AjkADARCADgIVACgADgRwAawSSACwRyAKwQnD9cdjOOnqUzkUi0Pz3ozScF0WoxOM3viwtrZRyOavXIH0HHC5F8fnEH7OzcK2np/aYObaxUbwlSXPfy2Urs0n/b/BwqereXuWqLEP2+F4D4VFbW/PTjg6rs7kAOBXhRaFgpNfXrc4l/RtQuzTNMMIRVfVcCgRgUpLgjq4LH4aH3yfX1qzO/A3MCuhSu8sW2gAAAABJRU5ErkJggg==",alt:"lefticon"}),N=({eventsData:t,updateEvent:r,selectedDate:s,calenderType:a,weekHourBoxHeight:i=25,startingWeekday:o,weekCalenderDayStartFromHour:l,weekCalenderVisibleHour:_=12,weekCalenderTitleFormate:u="ddd",weekCalenderTimeFormate:g=24,noOfDayColumn:h,calenderHeight:f,isShowAddNewEventButton:x,weekCalenderNextBtnDayIncrement:v,handleNextClick:A,handlePrevClick:D,handleChangeCurrentDate:T,calenderToAddOrUpdateEvent:N,handleIncreaseTimeSpan:E,handleClanderTypeChange:S})=>{const[M,H]=n.useState(t),I=n.useRef(null),F=n.useRef(0),z=n.useRef(null),B=n.useRef(null),U=i,P=1*U*24,[R,L]=n.useState(!1),Y=()=>{let e=new Date;return s&&Object.keys(s).length&&(e=s),"week"===a?function(e,n){e=void 0!==e?e:1;const t=n||new Date;if(t.getDay()===e)return t;const r=(t.getDay()+7-e)%7;return new Date(t.getTime()-864e5*r)}(o,e):e},G=(e,n)=>{const t=n.findIndex((n=>n.sc_app__id===e.sc_app__id));t>-1&&(n[t]=e,H([...n]))};n.useEffect((()=>{H(d(t,!1))}),[t]),n.useEffect((()=>{Q(Y())}),[a]);const[J,Q]=n.useState(Y);n.useEffect((()=>{J&&0!==Object.keys(J).length&&(Q(J),T&&T(J,a))}),[J]),n.useEffect((()=>{I.current&&(I.current.scrollTop=l*U/1)}),[i]);const X=e=>{if(!B.current)return;const n=p(e,B.current);0!=n&&z.current&&(z.current.startTime=z.current.startTime?z.current.startTime:0,z.current.startTime+=24*n*j,z.current.endTime=z.current.endTime?z.current.endTime:0,z.current.endTime+=24*n*j,B.current=e,G(Object.assign({},z.current),M))},q=e=>{if(e.preventDefault(),!z.current)return;if(0===F.current)return void(F.current=e.clientY);const n=e.clientY-F.current;z.current.startTime=z.current.startTime?z.current.startTime:0,z.current.endTime=z.current.endTime?z.current.endTime:0,(n>10||n<-10)&&(z.current.startTime+=n/U*1*36e5,z.current.endTime+=n/U*1*36e5,G(Object.assign({},z.current),M),F.current=e.clientY)},V=e=>{e&&e.preventDefault(),z.current&&(r(Object.assign({},z.current)),F.current=0,z.current=null),L(!1),document.removeEventListener("mousemove",q)};n.useEffect((()=>{if(z.current&&R)return document.addEventListener("mousemove",q),document.addEventListener("mouseup",V),document.body.style.userSelect="none",()=>{document.body.style.userSelect="auto",document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",V)}}),[R]);const W=e=>{const n=function(e,n){const t=e.getTime();return new Date(t+24*n*60*60*1e3)}(J,(h>v?v:h)*e);Q(n),e>0?"function"==typeof A&&A(n,a):"function"==typeof D&&D(n,a)};return f||(f=U/1*_),e.jsx("div",{children:e.jsxs("div",Object.assign({className:"ib__sc__table ib__sc__table-week ib_sc_type_"+a},{children:[e.jsx("div",Object.assign({className:"ib__sc__header_wrapper"},{children:e.jsxs("div",Object.assign({className:"ib__sc__header"},{children:[e.jsx("div",Object.assign({className:"ib__sc__header__date-switch"},{children:e.jsx("div",Object.assign({className:"ib__sc__week-date"},{children:e.jsxs("div",Object.assign({className:"ib__sc__week-date-btn-group"},{children:[e.jsx("button",Object.assign({className:"ib__sc__week-date__bt-prev ib__sc__np__btn",onClick:()=>W(-1)},{children:e.jsx(C,{})})),e.jsx("div",Object.assign({className:"ib__sc__week-date__bt-text"},{children:e.jsx("input",{type:"date",className:"ib__sc-form-control",onChange:e=>{Q(new Date(e.target.value))},value:c(J,"yyyy-MM-dd")})})),e.jsx("button",Object.assign({className:"ib__sc__week-date__bt-next ib__sc__np__btn",onClick:()=>W(1)},{children:e.jsx(k,{})}))]}))}))})),e.jsx("div",{className:"ib__sc__header__center"}),e.jsxs("div",Object.assign({className:"ib__sc__header__right"},{children:[x&&e.jsx("div",Object.assign({className:"ib__sc__header__right__btn-group"},{children:e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:()=>{N&&N({})}},{children:"Add Event"}))})),e.jsx(w,{calenderType:a,handleClanderTypeChange:e=>{S&&S(e)}})]}))]}))})),e.jsx("div",Object.assign({style:{position:"relative",display:"flex"}},{children:e.jsx(y.Provider,Object.assign({value:{dragStart:(e,n)=>{B.current=n,z.current=Object.assign(Object.assign({},e),{left:"0",width:100}),L(!0)},updateEvent:r,dragEnd:V,calenderToAddOrUpdateEvent:N}},{children:e.jsx("div",Object.assign({className:"ib__sc__table-out ib__sc__table-out-week",style:{maxHeight:f,overflowY:P>f?"scroll":"initial"},ref:I},{children:e.jsxs("div",Object.assign({className:"ib__sc__tb-wrapper ib__sc__tb-wrapper-week"},{children:[e.jsxs("div",Object.assign({className:"ib__sc__tb_week_time",style:{minHeight:P+"px"}},{children:[e.jsx("div",Object.assign({className:"ib__sc__table-th"},{children:e.jsxs("div",Object.assign({className:"ib__sc__btn-group ib__sc__increment-timespan ib__sc__flex_center"},{children:[e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:()=>E(-1)},{children:"-"})),e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:()=>{E(1)}},{children:"+"}))]}))})),e.jsx("div",Object.assign({className:"ib__sc__cell ib__sc__cell-week"},{children:[...Array(24).keys()].map(((n,t)=>e.jsx("div",Object.assign({style:{height:U+"px"},className:" ib__sc__week-time",draggable:"true"},{children:0!==t&&e.jsx("span",Object.assign({className:"ib__sc__time_title"},{children:m(n,g)}))}),t)))}))]})),[...Array(h).keys()].map((n=>{const t=new Date(J),s=new Date(t.setDate(t.getDate()+n)).setHours(0,0,0,0);return e.jsxs("div",Object.assign({className:"ib__sc__table-td ib__sc__table-td-week",style:{minHeight:P+"px"}},{children:[e.jsx("div",Object.assign({className:"ib__sc__table-th ib__sc__truncate"},{children:c(new Date(s),u)}),n),e.jsx(O,{calenderTableRef:I,boxHeight:U,updateEvent:r,dragingEventId:z.current?z.current.sc_app__id:"",boxDay:new Date(s),dragBoxMouseEnterToCell:X,calenderToAddOrUpdateEvent:N,events:M?M.filter((e=>{if(e.startTime&&e.endTime)return b(new Date(s),e.startTime,e.endTime)})):[]})]}),n)}))]}))}))}))}))]}))})},E=({boxHeight:t,boxTime:r,eventObj:s,boxDay:a,isCalender:i,isDraging:c,isResizing:o})=>{const[l,d]=n.useState(0),[_,b]=n.useState(0),[u,p]=n.useState({start:!1,end:!1}),g=n.useRef({start:0,end:0}),m=n.useRef(!1),{dragStart:h,dragEnd:f,resizeStart:x,resizeEnd:v,calenderToAddOrUpdateEvent:w}=n.useContext(y),D=n.useRef(null),O=(e,n)=>{e.stopPropagation(),e.preventDefault(),x(s,a,n)},T=e=>{o&&(e.preventDefault(),v())},k=e=>{e.preventDefault(),f()};n.useEffect((()=>{if(c)return document.addEventListener("mouseup",k),()=>{document.removeEventListener("mouseup",k)}}),[c]),n.useEffect((()=>{if(o)return document.addEventListener("mouseup",T),()=>{document.removeEventListener("mouseup",T)}}),[o]),n.useEffect((()=>{s&&((e,n)=>{if(!e||!n)return;const s=new Date(a).setHours(0,0,0,0),i=new Date(a).setHours(23,59,59,999);g.current.start=e,g.current.end=n,e<s?(e=s,u.start=!0):u.start=!1,n>i?(n=i,u.end=!0):u.end=!1,p(Object.assign({},u)),b(t/r*((n-e)/j)),d((e-s)/j*(t/r))})(s.startTime,s.endTime)}),[s,s.startTime,s.endTime,t,r,a]);const C={width:s.width+"%",left:s.left+"%",top:l+"px",cursor:"move",opacity:c||o?.9:1,zIndex:c||o?1e4:1,height:_+"px"},N={backgroundColor:s.bg_color};return i?(C.width="100%",C.left="0%",C.top=s.left+"%",C.height=s.width+"%"):(C.width=s.width+"%",C.left=s.left+"%",C.top=l+"px",C.height=_+"px"),e.jsx(e.Fragment,{children:s&&e.jsx("div",Object.assign({id:s.sc_app__id+"",className:"ib__sc__event-wrapper ib__sc__event-wrapper-month "+(c?"dragging":"")+" "+(u.start?"overlap-start":"")+" "+(u.end?"overlap-end":""),ref:D,onMouseDown:e=>{e.preventDefault(),m.current=!0},onMouseUp:e=>{e.preventDefault(),m.current=!1},onMouseMove:()=>{m.current&&(o?f():h(s,a))},onClick:e=>{o||(e.stopPropagation(),e.preventDefault(),f(),w(s))},style:C},{children:e.jsxs("div",Object.assign({className:"ib__sc__event-box ib__sc__event-box-month",style:N},{children:[u&&!u.start&&e.jsx("div",Object.assign({style:o?{display:"flex"}:{},className:"dragging-handler-month left",onMouseDown:e=>{O(e,"left")}},{children:"||"})),e.jsx(A,{eventObj:s,isShowTitle:!u.start,isStart:!u.start}),u&&!u.end&&e.jsx("div",Object.assign({style:o?{display:"flex"}:{},className:"dragging-handler-month right",onMouseDown:e=>{O(e,"right")}},{children:"||"}))]}))}))})};function S({currentBoxHeight:t,eventsInDay:r,boxHeight:s,boxDay:a,day:i,dragingEventId:c,resizingEventId:o,calenderToAddOrUpdateEvent:l,dragBoxMouseEnterToCell:d}){const _=n.useRef(null),b=e=>{e.preventDefault(),console.log("boxDay",a),d(new Date(a))};return n.useEffect((()=>{var e;if(_.current&&(void 0!==c||void 0!==o))return null===(e=_.current)||void 0===e||e.addEventListener("mouseenter",b,!0),()=>{var e;null===(e=_.current)||void 0===e||e.removeEventListener("mouseenter",b,!0)}}),[c,o]),e.jsx("td",Object.assign({ref:_,className:" ib__sc__table-td ib__sc__table-td-month",onClick:e=>{e.preventDefault(),e.stopPropagation(),l({startTime:new Date(a).setHours(0,0,0,0),endTime:new Date(a+24*j).setHours(0,0,0,0)})}},{children:e.jsxs("div",Object.assign({className:"ib__sc_month_cell",style:{minHeight:`${t+20}px`}},{children:[e.jsx("div",Object.assign({className:"ib__sc_month_cell_wrapper"},{children:e.jsx("span",Object.assign({className:"ib__sc_month_day"},{children:i}))})),e.jsx("div",Object.assign({className:"ib__sc__table-td__day_cell",style:{minHeight:`${t}px`}},{children:r.map(((n,t)=>e.jsx(E,{eventObj:n,boxHeight:s,boxTime:1,boxDay:a,isDraging:c===n.sc_app__id,isResizing:o===n.sc_app__id,isCalender:!0},t)))}))]}))}))}function M({currentDay:t=new Date,eventsData:a,updateEvent:i,calenderType:c,startingWeekday:o,monthCalenderDayHeight:l,isShowAddNewEventButton:_=!0,dayStartFrom:u,monthCalenderTitleFormate:g,monthCalenderTitle:m,calenderHeight:h,minimumEventThickness:f,calenderToAddOrUpdateEvent:x,monthCalenderMinCellHeight:v=60,handleNextClick:A,handlePrevClick:D,handleChangeCurrentDate:O,handleClanderTypeChange:T}){const[N,E]=n.useState(t),M=N.getMonth(),H=N.getFullYear(),I=`${H}-${(M+1).toString().padStart(2,"0")}`,F=new Date(H,M,1).getDay(),z=new Date(H,M+1,0).getDate(),[B,U]=n.useState(d(a,!0)),P=n.useRef(),R=n.useRef(),[L,Y]=n.useState(!1),G=n.useRef("");v||(v=h?h/5:50),r.default.useEffect((()=>{t&&E(t)}),[t]),n.useEffect((()=>{U(d(a,!0))}),[a]),n.useEffect((()=>{if(L)return document.body.style.userSelect="none",()=>{document.body.style.userSelect="auto"}}),[L]);const J=e=>{e&&e.preventDefault(),G.current="",R.current&&(i(Object.assign({},R.current)),R.current=null),Y(!1)},Q=e=>{if(!R.current)return;if(!P.current)return;const n=R.current,t=p(e,new Date(P.current));0!==t&&("left"===G.current?n.startTime+=24*t*j:"right"===G.current?n.endTime+=24*t*j:(n.endTime+=24*t*j,n.startTime+=24*t*j),R.current=n,P.current=e.getTime(),((e,n)=>{const t=n.findIndex((n=>n.sc_app__id===e.sc_app__id));t>-1&&(n[t]=e,U([...n]))})(n,B))},X=e=>{const n=new Date(N);n.setMonth(n.getMonth()+e),E(n),e>0?"function"==typeof A&&A(n,c):"function"==typeof D&&D(n,c)};return console.log("render eventsData",a),e.jsx("div",{children:e.jsx(y.Provider,Object.assign({value:{dragStart:(e,n)=>{console.log("dragStart"),console.log(e),P.current=n,R.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),Y(!0)},resizeStart:(e,n,t)=>{P.current=n,R.current=Object.assign(Object.assign({},e),{left:0,width:"100"}),G.current=t,Y(!0)},updateEvent:i,calenderToAddOrUpdateEvent:x,dragEnd:J,resizeEnd:J}},{children:e.jsxs("div",Object.assign({className:"ib__sc__table ib__sc__table-month-wrap ib_sc_type_"+c},{children:[e.jsx("div",Object.assign({className:"ib__sc__header_wrapper"},{children:e.jsxs("div",Object.assign({className:"ib__sc__header"},{children:[e.jsx("div",Object.assign({className:"ib__sc__header__date-switch"},{children:e.jsx("div",Object.assign({className:"ib__sc__month-date"},{children:e.jsxs("div",Object.assign({className:"ib__sc__month-date-btn-group"},{children:[e.jsx("button",Object.assign({className:"ib__sc__month-date__bt-prev ib__sc__np__btn",onClick:()=>X(-1)},{children:e.jsx(C,{})})),e.jsx("span",Object.assign({className:"ib__sc__month-date__bt-text"},{children:e.jsx("input",{type:"month",className:"ib__sc-form-control",placeholder:"yyyy-mm",onChange:e=>{const n=new Date(e.target.value);E(n),"function"==typeof O&&O(n,c)},value:I})})),e.jsx("button",Object.assign({className:"ib__sc__month-date__bt-next ib__sc__np__btn",onClick:()=>X(1)},{children:e.jsx(k,{})}))]}))}))})),e.jsx("div",{className:"ib__sc__header__center"}),e.jsxs("div",Object.assign({className:"ib__sc__header__right"},{children:[_&&e.jsx("div",Object.assign({className:"ib__sc__header__right__btn-group"},{children:e.jsx("button",Object.assign({className:"ib__sc__btn",onClick:()=>{x({})}},{children:"Add Event"}))})),e.jsx(w,{calenderType:c,handleClanderTypeChange:T})]}))]}))})),e.jsx("div",{style:{position:"relative",display:"flex"}}),e.jsx("div",Object.assign({className:"calendar"},{children:e.jsxs("table",Object.assign({className:"ib__sc__table-month",border:0,cellSpacing:"0",cellPadding:"0"},{children:[e.jsx("thead",{children:e.jsx("tr",{children:s.map(((n,t)=>e.jsx("th",Object.assign({className:"ib__sc__table-th"},{children:s[(t+o)%7]}),n)))})}),e.jsx("tbody",{children:(()=>{var n;const t=[];let r=[];for(let n=0;n<Math.abs(F+7-o)%7;n++)r.push(e.jsx("td",Object.assign({className:"ib__sc__table-td ib__sc__table-td-month "},{children:e.jsx("div",Object.assign({className:"ib__sc__table-td__day_cell"},{children:" "}))}),`empty-${n}`));for(let s=1;s<=z;s++){const a=new Date(H,M,s);let i=100;const c=B.filter((e=>!!(e.startTime&&e.endTime&&e.width&&b(a,e.startTime,e.endTime))&&(i=Math.min(i,e.width),!0)));let o=v;i*v/100<f&&(o=100*f/i),r.push(e.jsx(S,{currentBoxHeight:o,eventsInDay:c,dragBoxMouseEnterToCell:Q,calenderToAddOrUpdateEvent:x,dragingEventId:R.current?null===(n=R.current)||void 0===n?void 0:n.sc_app__id:void 0,resizingEventId:R.current&&G.current?R.current.sc_app__id:void 0,boxHeight:v,boxDay:new Date(a).getTime(),day:s},s)),7===r.length&&(t.push(e.jsx("tr",Object.assign({className:"ib__sc__table-td ib__sc__table-td-month"},{children:r}),s)),r=[])}if(r.length>0){for(let n=r.length;n<7;n++)r.push(e.jsx("td",{},`empty-${n}`));t.push(e.jsx("tr",{children:r},z))}return t})()})]}))}))]}))}))})}f("body {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.ib__sc__form-group {\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.ib__sc-form-control {\r\n  display: block;\r\n    padding: 0.375rem 0.75rem;\r\n    font-weight: 100;\r\n    width: 100%;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    line-height: 1.5;\r\n    color: #5b5b5b;\r\n    background-color: #fff;\r\n    background-clip: padding-box;\r\n    appearance: none;\r\n    box-sizing: border-box;\r\n    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n}\r\n\r\n.ib__sc__btn {\r\n  color: #5b5b5b;\r\n  background-color: #e0e0e0;\r\n  border-color: #9e9e9e;\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  vertical-align: middle;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  border: 1px solid transparent;\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: .8em;\r\n  line-height: 1.2em;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n}\r\n\r\n.ib__sc__btn.active {\r\n  background-color: #b6b6b6;\r\n  border-color: #adadad;\r\n}\r\n.ib__sc__btn:hover {\r\n  background-color: #b6b6b6;\r\n  border-color: #adadad;\r\n}\r\n.ib__sc__btn-group {\r\n  flex-wrap: wrap;\r\n  align-items: stretch;\r\n  width: 100%;\r\n  display: table-cell;\r\n  border-radius: 0.25rem;\r\n  overflow: hidden;\r\n}\r\n.ib__sc__btn-group .ib__sc__btn {\r\n  border-radius: 0;\r\n}\r\n.ib__sc__btn-group .ib__sc__btn {\r\n  border-left: 1px solid #ccc;\r\n}\r\n.ib__sc__btn-group .ib__sc__btn:first-child {\r\n  border-top-left-radius: 0.25rem;\r\n  border-bottom-left-radius: 0.25rem;\r\n  border-left: none;\r\n}\r\n\r\n.ib__sc__btn-group .ib__sc__btn:last-child {\r\n  border-top-right-radius: 0.25rem;\r\n  border-bottom-right-radius: 0.25rem;\r\n}\r\n\r\n.ib__sc__truncate {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.ib__sc__flex_center {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n/* Ib table */\r\n.ib__sc__table {\r\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\r\n    0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.ib__sc__header {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 6px;\r\n  box-sizing: border-box;\r\n}\r\n.ib__sc__header__right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.ib__sc__header__right__btn-group {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 1em;\r\n  font-size: .8em;\r\n}\r\n.ib__sc__np__btn {\r\n  border: none;\r\n  outline: 0;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  display: flex;\r\n  opacity: 0.5;\r\n  align-items: center;\r\n  width: 24px;\r\n}\r\n.ib__sc__calander_switch {\r\n  font-size: .8em;\r\n}\r\n\r\n.ib__sc__table-out-week {\r\n  display: flex;\r\n  width: 100%;\r\n  overflow-y: scroll;\r\n}\r\n.ib__sc__table-out-week::-webkit-scrollbar {\r\n  width: 0.4em;\r\n  border-radius: 1em;\r\n}\r\n\r\n.ib__sc__table-out-week::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 6px rgba(154, 154, 154, 0.3);\r\n  border-radius: 0.3em;\r\n}\r\n\r\n.ib__sc__table-out-week::-webkit-scrollbar-thumb {\r\n  background-color: rgb(211, 211, 211);\r\n  outline: 1px solid rgb(173, 181, 190);\r\n}\r\n.ib__sc__week-date {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.ib__sc__week-date-btn-group {\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  border-radius: 4px;\r\n}\r\n.ib__sc__week-date-btn-group {\r\n  border: 1px solid #eeeeee;\r\n}\r\n\r\n.ib__sc__week-date__bt-text .ib__sc-form-control {\r\n  width: auto;\r\n  border: none;\r\n  border-left: 1px solid #eeeeee;\r\n  border-radius: 0;\r\n  border-right: 1px solid #eeeeee;\r\n}\r\n\r\n.ib__sc__table-week {\r\n  border-spacing: 0;\r\n  z-index: 1003;\r\n  margin-bottom: 100px;\r\n}\r\n\r\n.ib__sc__table-td-week {\r\n  position: relative;\r\n  flex: 1 1;\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n  border: none;\r\n  margin-left: -1px;\r\n}\r\n\r\n.ib__sc__table-hr-box-week {\r\n  background: #ffffff;\r\n  border-top: 1px dashed #dbdbdb;\r\n  margin-top: -1px;\r\n  cursor: pointer;\r\n}\r\n.ib__sc__table-hr-box-week:hover {\r\n  background: #eff1ff;\r\n}\r\n\r\n.ib__sc__tb_week_time .ib__sc__table-hr-box-week {\r\n  border-top: 1px solid #fff;\r\n}\r\n.ib__sc__tb_week_time .ib__sc__cell {\r\n  border: none;\r\n}\r\n.ib__sc__tb_week_time .ib__sc__table-hr-box-week small {\r\n  margin-top: -1em;\r\n}\r\n.ib__sc__time_title {\r\n  margin-top: -0.5em;\r\n  display: block;\r\n}\r\n.ib__sc__table-th {\r\n  text-align: center;\r\n  top: 0;\r\n  position: sticky;\r\n  z-index: 1001;\r\n  padding: 8px;\r\n  background: #fff;\r\n  border: 1px solid #ccc;\r\n  color: #4e4e4e;\r\n  height: 1.6em;\r\n  line-height: 1.6em;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  font-size: 12px;\r\n  /* display: table-cell; */\r\n  vertical-align: middle;\r\n}\r\n.ib__sc__table-th-week {\r\n  border: 1px solid #000;\r\n  text-align: center;\r\n}\r\n\r\n.ib__sc__tb-wrapper-week {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.ib__sc__increment-timespan .ib__sc__btn {\r\n  line-height: 21px;\r\n  text-align: center;\r\n  padding: 1px 8px;\r\n}\r\n.ib__sc__cell {\r\n  border: 1px dashed #ccc;\r\n}\r\n.ib__sc__cell-wrapper {\r\n  position: relative;\r\n  margin: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.ib__sc__event-wrapper {\r\n  position: absolute;\r\n  overflow: hidden;\r\n}\r\n.ib__sc__event {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  text-align: left;\r\n  padding: 5px 10px 0px 5px;\r\n}\r\n.ib__sc__event-box {\r\n  padding: 0px;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n  border: 2px solid #ffffff;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.ib__sc__staring_event_box::before {\r\n  content: '';\r\n  display: block;\r\n  width: 5px;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  background-color: #ccc;\r\n  position: absolute;\r\n  left: 0;\r\n}\r\n.dragging-handler-week {\r\n  text-align: center;\r\n  display: none;\r\n}\r\n\r\n.ib__sc__event-box:hover .dragging-handler-week {\r\n  display: block;\r\n}\r\n.dragging-handler-week {\r\n  position: absolute;\r\n  cursor: re-resize;\r\n  left: 1px;\r\n  right: 1px;\r\n  height: 12px;\r\n  z-index: 100;\r\n  background: #ededed;\r\n  line-height: 10px;\r\n  color: #777;\r\n  opacity: 0.8;\r\n}\r\n\r\n.dragging-handler-week.top {\r\n  cursor: s-resize;\r\n  top: 0px;\r\n}\r\n.dragging-handler-week.bottom {\r\n  cursor: s-resize;\r\n  bottom: 0px;\r\n}\r\n\r\n.resize-event-bg {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  background: rgb(139 139 139 / 27%);\r\n  opacity: 1;\r\n  z-index: 100;\r\n}\r\n\r\n.placeholder {\r\n  /* display: none; */\r\n  cursor: move;\r\n  cursor: grab;\r\n  position: absolute;\r\n  pointer-events: none;\r\n  border: 1px dashed black;\r\n  background: red;\r\n}\r\n\r\n.ib__sc__daybar-week {\r\n  width: 100%;\r\n  height: 2px;\r\n  position: absolute;\r\n  background: #03a9f4;\r\n  z-index: 1004;\r\n}\r\n\r\n.ib__sc__week-time {\r\n  font-size: 0.7em;\r\n  text-align: right;\r\n  line-height: 1em;\r\n  color: #373737;\r\n  width: 72px;\r\n  margin-top: -1px;\r\n  padding-right: 3px;\r\n  border-top: 1px dashed transparent;\r\n}\r\n\r\n/* Add Event popup */\r\n\r\n.ib__sc-modal {\r\n  position: fixed;\r\n  z-index: 1100;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  /* display: none; */\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.ib__sc-modal-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  width: 90%;\r\n  border-radius: 5px;\r\n  max-width: 400px;\r\n  position: relative;\r\n}\r\n.ib__sc__close-modal-btn {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  line-height: 20px;\r\n  height: 20px;\r\n  width: 20px;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  background: white;\r\n  text-align: center;\r\n  color: #ccc;\r\n  cursor: pointer;\r\n}\r\n.ib__sc__modal_footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.ib__sc-form-control:focus {\r\n  color: #212529;\r\n  background-color: #fff;\r\n  border-color: #adadad;\r\n  outline: 0;\r\n}\r\n\r\n.ib__sc__form-time-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.ib__sc__form-time-row > * + * {\r\n  margin-left: 10px;\r\n}\r\n\r\n.ib__sc-label {\r\n  font-size: 13px;\r\n  margin-bottom: 5px;\r\n  text-transform: capitalize;\r\n}\r\n\r\n/* Month Calender */\r\n.ib__sc__table-out-week {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.ib__sc__table-month {\r\n  border-spacing: 0;\r\n  z-index: 1003;\r\n  width: 100%;\r\n}\r\n.ib__sc__table-td-month {\r\n  text-align: left;\r\n  padding-left: 0;\r\n  position: relative;\r\n}\r\n.ib__sc__table-td__day_cell {\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n.ib__sc_month_cell {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.ib__sc_month_cell:hover {\r\n  background: #eff1ff;\r\n}\r\n\r\n.ib__sc_month_day {\r\n  color: #b3b3b3;\r\n  font-weight: 600;\r\n  font-size: .8em;\r\n  line-height: .8em;\r\n  padding: 5px;\r\n  z-index: 1000;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n\r\n}\r\n\r\ntable.ib__sc__table-month {\r\n  border: none;\r\n  border-collapse: collapse;\r\n}\r\ntable.ib__sc__table-month td {\r\n  border-right: 1px solid #dfdfdf;\r\n  vertical-align: top;\r\n}\r\ntable.ib__sc__table-month td:first-child {\r\n  border-left: 1px solid #dfdfdf;\r\n}\r\ntable.ib__sc__table-month tr {\r\n  border-bottom: 1px solid #dfdfdf;\r\n}\r\n\r\n.ib__sc__month-date {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.ib__sc__month-date-btn-group {\r\n  display: flex;\r\n  justify-content: center;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 4px;\r\n}\r\n\r\n.ib__sc__month-date__bt-text .ib__sc-form-control {\r\n  width: auto;\r\n  border: none;\r\n}\r\n\r\n.dragging-handler-month {\r\n  position: absolute;\r\n\r\n  top: 1px;\r\n  bottom: 1px;\r\n  width: 12px;\r\n  z-index: 100;\r\n\r\n  line-height: 10px;\r\n  color: #777;\r\n  font-size: 0.5em;\r\n  align-items: center;\r\n  opacity: 0.8;\r\n  display: none;\r\n  justify-content: center;\r\n}\r\n\r\n.dragging-handler-month.left {\r\n  cursor: w-resize;\r\n  left: 0px;\r\n}\r\n.dragging-handler-month.right {\r\n  cursor: w-resize;\r\n  right: 0px;\r\n}\r\n\r\n.ib__sc__event-box:hover .dragging-handler-month {\r\n  display: flex;\r\n}\r\n.dragging .dragging-handler-month {\r\n  display: flex;\r\n}\r\n.dragging-handler-month:hover {\r\n  display: flex;\r\n}\r\n.ib__sc__event-wrapper.dragging {\r\n  z-index: 3003;\r\n}\r\n.ib__sc__event-wrapper-month.overlap-start {\r\n  left: -1px !important;\r\n}\r\n.ib__sc__event-wrapper-month.overlap-end {\r\n  width: calc(100% + 2px) !important;\r\n}\r\n\r\n.ib__sc__event-wrapper-month.overlap-start .ib__sc__event-box {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n  border-left: 0;\r\n}\r\n\r\n.ib__sc__event-wrapper-month.overlap-end .ib__sc__event-box {\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  border-right: 0;\r\n}\r\n\r\n.ib__sc__np__btn img{\r\n  width: 100%;\r\n}"),exports.ReactCalendarScheduler=function({selectedDate:t=new Date,calenderType:s="week",monthCalenderTitleFormate:a="dddd",monthCalenderTitle:i="ddd",monthCalenderDayHeight:o=120,minimumEventThickness:l=30,calenderHeight:d=600,weekHourBoxHeight:b=50,weekCalenderNextBtnDayIncrement:p=7,startingWeekday:g=1,weekCalenderDayStartFromHour:m=7,weekCalenderVisibleHour:f=12,weekCalenderTitleFormate:x="ddd, MMM dd",weekCalenderTimeFormate:w=12,monthCalenderMinCellHeight:j=50,disabaleEventPopup:y=!1,isShowAddNewEventButton:A,disabaleAddEventPopup:D=!1,handleUpdateEvent:O,handleAddNewEvent:T,handleDeleteEvent:k,handleEventClick:C,handleColumnClick:E,handleNextClick:S,handlePrevClick:H,handleClanderTypeChange:I,handleChangeCurrentDate:F,handleIncreaseTimeSpan:z,events:B}){const[U,P]=n.useState(!1),[R,L]=n.useState({title:"",startDate:"",endDate:"",startTime:"",endTime:""}),[Y,G]=n.useState(s),[J,Q]=n.useState(u(B)),[X,q]=n.useState(b);r.default.useEffect((()=>{Q(u(B))}),[B]);const V=e=>{const n=J.findIndex((n=>n.sc_app__id===e.sc_app__id)),t=h(e);t.startDate===J[n].startDate&&t.endDate===J[n].endDate&&t.startTime===J[n].startTime&&t.endTime===J[n].endTime||(J[n]=t,"function"==typeof O&&O(J[n]),Q([...J]))},W=e=>{e.sc_app__id?"function"==typeof C&&C(h(e)):"function"==typeof E&&E(h(e)),y||D||(L(Object.assign(Object.assign({},h(e)),{startDate:e.startTime?c(new Date(e.startTime),"yyyy-MM-dd"):"",endDate:e.endTime?c(new Date(e.endTime),"yyyy-MM-dd"):"",startTime:e.startTime?c(new Date(e.startTime),"H:mm:ss"):"",endTime:e.endTime?c(new Date(e.endTime),"H:mm:ss"):""})),P(!0))},K=e=>{G(e),I&&I(e)};return e.jsx("div",Object.assign({className:"App react-calender-scedule"},{children:e.jsxs("div",Object.assign({className:"ib__sc_rcs-container"},{children:[("week"===Y||"day"===Y)&&e.jsx(N,{eventsData:_(u(J),"dd/MM/yyyy"),selectedDate:t,calenderType:Y,weekHourBoxHeight:X,handleIncreaseTimeSpan:e=>{X+e<20||(q(X+10*e),z&&z())},startingWeekday:g,weekCalenderDayStartFromHour:m,weekCalenderVisibleHour:f,weekCalenderTitleFormate:x,weekCalenderTimeFormate:w,minimumEventThickness:l,handleNextClick:S,calenderHeight:d,handlePrevClick:H,weekCalenderNextBtnDayIncrement:p>7?7:p,isShowAddNewEventButton:A,noOfDayColumn:"week"===Y?7:1,handleChangeCurrentDate:F,handleClanderTypeChange:K,updateEvent:V,calenderToAddOrUpdateEvent:e=>{W(e)}}),"month"===Y&&e.jsx(M,{eventsData:_(u(J),"dd/MM/yyyy"),monthCalenderDayHeight:o,selectedDate:t,dayStartFrom:0,calenderType:Y,startingWeekday:g,isShowAddNewEventButton:A,currentDay:t,calenderHeight:d,monthCalenderMinCellHeight:j,minimumEventThickness:l,monthCalenderTitleFormate:a,monthCalenderTitle:i,handleChangeCurrentDate:F,updateEvent:V,handleClanderTypeChange:K,calenderToAddOrUpdateEvent:e=>{W(e)}}),U&&e.jsx(v,{show:U,handleClose:()=>{P(!1)},handleDeleteEvent:e=>{const n=J.findIndex((n=>n.sc_app__id===e));k&&k(Object.assign({},J[n])),J.splice(n,1),Q([...J]),P(!1)},handleAddEvent:e=>{if(e.sc_app__id){for(let n=0;n<J.length;n++)if(J[n].sc_app__id===e.sc_app__id){J[n]=Object.assign({},e);break}"function"==typeof O&&O(e)}else e.sc_app__id=(new Date).getTime(),"function"==typeof T&&T(e),J.push(e);Q([...J]),P(!1)},eventObj:R})]}))}))},exports.TimeInput=x;
//# sourceMappingURL=index.js.map
